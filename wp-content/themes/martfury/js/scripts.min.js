!function(t){"use strict";var e=e||{};e.init=function(){e.$body=t(document.body),e.$window=t(window),e.$header=t("#site-header"),this.preLoader(),this.newLetterPopup(),this.stickyHeader(),this.productSearchLabel(),this.headerMenu(),this.instanceSearch(),this.topPromotion(),this.mobileMenu(),this.pageHeaderParallax(),this.postEntryFormat(),this.singleEntryFormat(),this.blogLoadingAjax(),this.relatedPost(),this.blogLayout(),this.lazyLoad(),this.backToTop(),this.recentlyViewedProducts(),this.catalogBanners(),this.productsTopCarousel(),this.productCategoriesWidget(),this.toolTipIcon(),this.searchLayeredNav(),this.productAttribute(),this.shopView(),this.addWishlist(),this.addCompare(),this.productQuickView(),this.variationImagesCarousel(),this.productTopCategories(),this.filterAjax(),this.hoverProductTabs(),this.productQuantity(),this.productThumbnail(),this.productGallery(),this.productDegree(),this.singleProductCarousel(),this.fbtProduct(),this.fbtAddToCartAjax(),this.fbtAddToWishlistAjax(),this.instagramCarousel(),this.productVatiation(),this.addToCartAjax(),t(document.body).on("martfury_get_products_ajax_success",function(){e.toolTipIcon()})},e.preLoader=function(){e.$body.hasClass("mf-preloader")&&(NProgress.start(),e.$window.on("load",function(){NProgress.done(),t("#page").addClass("fade-in")}))},e.stickyHeader=function(){if(e.$body.hasClass("sticky-header")){var o=0,i=e.$header.find(".header-main-wapper"),a=i.outerHeight()-18,r=t("#top-promotion"),s=r.length>0?r.outerHeight(!0):0,n=t("#topbar"),l=n.length>0?n.outerHeight(!0):0,c=e.$header.outerHeight(!0);o=l+s+c,e.$window.on("scroll",function(){r.length>0&&r.hasClass("invisible")&&(o=c+l),e.$window.scrollTop()>o?(e.$header.addClass("minimized"),i.css({"padding-top":a})):(e.$header.removeClass("minimized"),i.removeAttr("style"))})}},e.topPromotion=function(){var e=t("#top-promotion");e.length<1||e.on("click",".close",function(t){t.preventDefault(),e.slideUp().addClass("invisible")})},e.mobileMenu=function(){var o=t("#primary-mobile-nav");e.$header.on("click","#mf-toggle-menu",function(t){t.preventDefault(),e.$body.toggleClass("display-mobile-menu")}),o.find(".menu .menu-item-has-children > a").prepend('<span class="toggle-menu-children"><i class="icon-plus"></i> </span>'),o.on("click",".menu-item-has-children > a",function(e){e.preventDefault();var o=t(this);o.closest("li").siblings().find("ul").slideUp(),o.closest("li").siblings().removeClass("active"),o.closest("li").siblings().find("li").removeClass("active"),o.closest("li").children("ul").slideToggle(),o.closest("li").toggleClass("active")}),o.on("click",".close-canvas-mobile-panel",function(t){t.preventDefault(),e.$body.removeClass("display-mobile-menu")}),t("#mf-off-canvas-layer").on("click",function(t){t.preventDefault(),e.$body.removeClass("display-mobile-menu")}),e.$window.on("resize",function(){e.$window.width()>1200&&e.$body.removeClass("display-mobile-menu")})},e.newLetterPopup=function(){function o(t){var e=new Date,o=e.getTime();e.setTime(e.getTime()+24*t*60*60*1e3),document.cookie="mf_newletter="+o+";expires="+e.toGMTString()+";path=/"}var i=t("#mf-newsletter-popup"),a=parseInt(martfuryData.nl_days),r=parseInt(martfuryData.nl_seconds);i.length<1||(e.$window.on("load",function(){setTimeout(function(){i.addClass("open")},1e3*r)}),i.on("click",".close-modal",function(t){t.preventDefault(),o(a),i.removeClass("open"),i.fadeOut()}),i.on("click",".n-close",function(t){t.preventDefault(),o(30),i.removeClass("open"),i.fadeOut()}),i.find(".mc4wp-form").submit(function(){o(a)}))},e.backToTop=function(){var o=t("#scroll-top");e.$window.scroll(function(){e.$window.scrollTop()>e.$window.height()?o.addClass("show-scroll"):o.removeClass("show-scroll")}),o.on("click",function(e){e.preventDefault(),t("html, body").stop().animate({scrollTop:0},800)})},e.headerMenu=function(){if(e.$header.find(".products-cats-menu").length>0){var o=e.$header.find(".products-cats-menu").position().left;e.$header.find(".toggle-product-cats").css({left:-1*o})}e.$header.find(".primary-nav .menu-item.is-mega-menu").each(function(){var e=t(this).children(".dropdown-submenu").width(),o=t(this).closest(".col-header-menu").width(),i=t(this).outerWidth(),a=t(this).position().left+i/2-e/2;o-t(this).position().left+i/2-e/2<0?t(this).removeClass("has-width").addClass("align-right"):a<0&&t(this).removeClass("has-width").addClass("align-left")})},e.productSearchLabel=function(){e.$header.on("change","#product_cat",function(){var o=t(this).find("option:selected").text().trim();e.$header.find(".product-cat-label").html(o)})},e.postEntryFormat=function(){e.$body.hasClass("mf-blog-page")&&(t(".blog-wapper").find(".entry-format").find(".slides").not(".slick-initialized").slick({slidesToShow:1,slidesToScroll:1,infinite:!1,prevArrow:'<span class="ion-ios-arrow-left slick-prev-arrow"></span>',nextArrow:'<span class="ion-ios-arrow-right slick-next-arrow"></span>'}),t(".blog-wapper").find(".entry-format").fitVids({customSelector:"iframe, video"}))},e.toolTipIcon=function(){t(".catalog-sidebar").find("[data-rel=tooltip]").tooltip({classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip",position:{my:"center bottom",at:"center top-13"},create:function(){t(".ui-helper-hidden-accessible").remove()}}),t(".mf-product-thumbnail, .mf-single-product:not(.mf-product-layout-3)").find("[data-rel=tooltip]").tooltip({classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip",position:{my:"center bottom",at:"center top-13"},create:function(){t(".ui-helper-hidden-accessible").remove()}}),t(".mf-product-thumbnail, .mf-single-product:not(.mf-product-layout-3)").find(".compare").tooltip({content:function(){return t(this).html()},classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip",position:{my:"center bottom",at:"center top-13"},create:function(){t(".ui-helper-hidden-accessible").remove()}}),t(document.body).on("added_to_cart",function(){t(".mf-product-thumbnail").find(".added_to_cart").tooltip({offsetTop:-15,content:function(){return t(this).html()},classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip",position:{my:"center bottom",at:"center top-13"},create:function(){t(".ui-helper-hidden-accessible").remove()}})})},e.variationImagesCarousel=function(){t(".woocommerce ul.products li.product").find(".mf-attr-swatches-slick").not(".slick-initialized").slick({slidesToShow:3,slidesToScroll:3,infinite:!1,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right  slick-next-arrow"></span>'})},e.addWishlist=function(){t("ul.products li.product .yith-wcwl-add-button").on("click","a",function(){t(this).addClass("loading")}),e.$body.on("added_to_wishlist",function(){t("ul.products li.product .yith-wcwl-add-button a").removeClass("loading")}),e.$body.on("added_to_wishlist removed_from_wishlist",function(){t.ajax({url:martfuryData.ajax_url,dataType:"json",method:"post",data:{action:"update_wishlist_count"},success:function(t){e.$header.find(".menu-item-wishlist .mini-item-counter").html(t)}})})},e.addCompare=function(){e.$body.on("click","a.compare:not(.added)",function(){var e=t(this);e.addClass("loading"),e.closest(".product-inner").find(".compare:not(.loading)").trigger("click")})},e.productQuantity=function(){e.$body.on("click",".quantity .increase, .quantity .decrease",function(e){e.preventDefault();var o=t(this),i=o.siblings(".qty"),a=parseInt(i.val(),10),r=parseInt(i.attr("min"),10),s=parseInt(i.attr("max"),10);r=r||1,s=s||a+1,o.hasClass("decrease")&&a>r&&(i.val(a-1),i.trigger("change")),o.hasClass("increase")&&a<s&&(i.val(a+1),i.trigger("change"))})},e.productThumbnail=function(){var e=t(".woocommerce-product-gallery"),o=e.find(".woocommerce-product-gallery__image.mf-product-video"),i=e.find(".flex-control-thumbs");if(e.imagesLoaded(function(){setTimeout(function(){if(!(i.length<1)){var a=e.data("columns");i.find("li").length>a?t(".mf-single-product").hasClass("mf-product-sidebar")?i.not(".slick-initialized").slick({slidesToShow:a,focusOnSelect:!0,slidesToScroll:1,infinite:!1,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right slick-next-arrow"></span>'}):(i.not(".slick-initialized").slick({slidesToShow:a,slidesToScroll:1,focusOnSelect:!0,vertical:!0,infinite:!1,prevArrow:'<span class="icon-chevron-up slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-down slick-next-arrow"></span>'}),i.find("li.slick-current").trigger("click")):i.addClass("no-slick"),o.length>0&&(t(".woocommerce-product-gallery").addClass("has-video"),i.find("li").last().append('<i class="i-video fa fa-play"></i>'))}},100)}),!(o.length<1)){var a=!1,r=!1;i.on("click","li",function(){var o=e.find(".mf-product-video"),i=t(this).siblings().length;if(r=!0,t(this).index()==i&&(r=!1,a=!1),!a&&r){var s=o.find("iframe"),n=o.find("video.wp-video-shortcode");s.length>0&&s.attr("src",s.attr("src")),n.length>0&&n[0].pause(),a=!0}return!1}),i.find("li").on("click",".i-video",function(e){e.preventDefault(),t(this).closest("li").find("img").trigger("click")})}},e.productGallery=function(){var e=t(".woocommerce-product-gallery");e.length&&(e.find(".woocommerce-product-gallery__image").hover(function(){t(this).closest(".woocommerce-product-gallery").find(".ms-image-view").removeClass("hide"),t(this).closest(".woocommerce-product-gallery").find(".ms-image-zoom").addClass("hide")},function(){t(this).closest(".woocommerce-product-gallery").find(".ms-image-view").addClass("hide"),t(this).closest(".woocommerce-product-gallery").find(".ms-image-zoom").removeClass("hide")}),e.on("click",".woocommerce-product-gallery__image",function(e){if(e.preventDefault(),t(this).hasClass("mf-product-video"))return!1;var o=[],i=t(this).closest(".woocommerce-product-gallery").find(".woocommerce-product-gallery__image");i.each(function(){var e=t(this);e.hasClass("mf-product-video")?o.push({html:e.children("a").attr("href")}):o.push({src:e.children("a").attr("href"),w:e.find("img").attr("data-large_image_width"),h:e.find("img").attr("data-large_image_height")})});var a={index:i.index(t(this)),bgOpacity:.85,showHideOpacity:!0,mainClass:"pswp--minimal-dark",barsSize:{top:0,bottom:0},captionEl:!1,fullscreenEl:!1,shareEl:!1,tapToClose:!0,tapToToggleControls:!1},r=new PhotoSwipe(document.getElementById("pswp"),window.PhotoSwipeUI_Default,o,a);r.init(),r.listen("close",function(){t(".mf-video-wrapper").find("iframe").each(function(){t(this).attr("src",t(this).attr("src"))}),t(".mf-video-wrapper").find("video").each(function(){t(this)[0].pause()})})}))},e.productDegree=function(){var o=t(".woocommerce-product-gallery .product-degree-images");if(!(o.length<1||martfuryData.product_degree.length<1)){var i="",a=t("#product-degree-pswp");o.on("click",function(o){if(o.preventDefault(),e.openModal(a),!a.hasClass("init")){a.addClass("init");for(var r=martfuryData.product_degree.split(","),s=[],n=0;n<r.length;n++)s.push(r[n]);i=a.find(".mf-product-gallery-degree").ThreeSixty({totalFrames:s.length,endFrame:s.length,currentFrame:1,imgList:a.find(".product-degree-images"),progress:".mf-gallery-degree-spinner",imgArray:s,height:500,width:830,navigation:!1}),a.find(".product-degree-images").imagesLoaded(function(){a.find(".nav_bar").removeClass("hide")}),a.find(".nav_bar_previous").on("click",function(){i.previous()}),a.find(".nav_bar_next").on("click",function(){i.next()}),a.find(".nav_bar_play").on("click",function(){t(this).hasClass("play")?(i.stop(),t(this).removeClass("play")):(i.play(),t(this).addClass("play"))}),a.on("click",".degree-pswp-close, .degree-pswp-bg",function(){i.stop(),t(this).removeClass("play")})}}),a.on("click",".degree-pswp-close, .degree-pswp-bg",function(){e.closeModal(a)})}},e.openModal=function(t){t.fadeIn(),t.addClass("open")},e.closeModal=function(e){e.fadeOut(function(){t(this).removeClass("open")})},e.hoverProductTabs=function(){var e,o,i,a,r,s=t(".mf-single-product .woocommerce-tabs").find("ul.wc-tabs");if(!(s.length<1)){s.append('<li id="tl-wc-tab" class="tl-wc-tab"></li>');var n=t("#tl-wc-tab");r=s.children("li.active").outerWidth(),n.width(r).css("left",s.children("li.active").position().left).data("origLeft",n.position().left).data("origWidth",n.width()),a=n.data("origWidth"),s.children("li").hover(function(){e=t(this),i=e.outerWidth(),o=e.position().left,n.stop().animate({left:o,width:i})},function(){n.stop().animate({left:n.data("origLeft"),width:a})}),s.on("click","li",function(){e=t(this),a=i=e.outerWidth(),o=e.position().left,n.stop().animate({left:o,width:i}),n.data("origLeft",o).data("origWidth",i)})}},e.searchLayeredNav=function(){var e=t(".mf-widget-layered-nav");e.length<1||(e.find(".mf-widget-layered-nav-scroll").each(function(){var e=t(this).data("height");t(this).height()>parseInt(e)&&t(this).slimScroll({height:e,railVisible:!0,alwaysVisible:!0,size:"6px",color:"#666",railColor:"#ccc",railOpacity:1})}),e.on("keyup",".mf-input-search-nav",function(e){var o=!1;if(void 0===e.which?o=!0:"number"==typeof e.which&&e.which>0&&(o=!e.ctrlKey&&!e.metaKey&&!e.altKey),o){var i=t(this).val().toUpperCase(),a=t(this).closest(".mf-widget-layered-nav"),r=a.find(".woocommerce-widget-layered-nav-list");r.children(".wc-layered-nav-term").each(function(){t(this).find("a").data("title").toUpperCase().indexOf(i)>-1?t(this).show():t(this).hide()});var s=r.data("height");r.height()<parseInt(s)?a.addClass("no-scroll"):a.removeClass("no-scroll")}}))},e.instanceSearch=function(){function o(e){var o=e.find("input.search-field").val(),r=0,s=e.find(".search-results");if(e.find("#product_cat").length>0&&(r=e.find("#product_cat").val()),o.length<2)e.removeClass("searching found-products found-no-product").addClass("invalid-length");else{e.removeClass("found-products found-no-product").addClass("searching");var n=o+r;if(n in a){var l=a[n];e.removeClass("searching"),e.addClass("found-products"),s.html(l.products),t(document.body).trigger("martfury_ajax_search_request_success",[s]),e.removeClass("invalid-length"),e.addClass("searched actived")}else i=t.ajax({url:martfuryData.ajax_url,dataType:"json",method:"post",data:{action:"martfury_search_products",nonce:martfuryData.nonce,term:o,cat:r,search_type:martfuryData.search_content_type},success:function(o){var i=o.data;e.removeClass("searching"),e.addClass("found-products"),s.html(i),e.removeClass("invalid-length"),t(document.body).trigger("martfury_ajax_search_request_success",[s]),a[n]={found:!0,products:i},e.addClass("searched actived")}})}}var i=null,a={},r=e.$header.find(".products-search");r.on("keyup",".search-field",function(e){var a=!1;if(void 0===e.which?a=!0:"number"==typeof e.which&&e.which>0&&(a=!e.ctrlKey&&!e.metaKey&&!e.altKey),a){i&&i.abort();var r=t(this).closest(".products-search");r.find("input.search-field").val().length<2&&r.removeClass("searching searched actived found-products found-no-product invalid-length"),o(r)}}).on("change","#product_cat",function(){i&&i.abort(),o(t(this).closest(".products-search"))}).on("focusout",".search-field",function(){var e=t(this).closest(".products-search");e.find("input.search-field").val().length<2&&e.removeClass("searching searched actived found-products found-no-product invalid-length")}),t(document).on("click",function(e){if(r.hasClass("actived")){var o=e.target;t(o).closest(".products-search").length<1&&r.removeClass("searching searched actived found-products found-no-product invalid-length")}})},e.singleEntryFormat=function(){if(e.$body.hasClass("single-post")){t(".single-post-header.layout-2").find(".featured-image").parallax("50%",.6);var o=t("#mf-single-entry-format");o.find(".slides").not(".slick-initialized").slick({slidesToShow:1,slidesToScroll:1,infinite:!1,prevArrow:'<span class="ion-ios-arrow-left slick-prev-arrow"></span>',nextArrow:'<span class="ion-ios-arrow-right slick-next-arrow"></span>'}),o.fitVids({customSelector:"iframe, video"})}},e.blogLayout=function(){e.$body.hasClass("blog-layout-masonry")&&e.$body.imagesLoaded(function(){e.$body.find(".mf-post-list").isotope({itemSelector:".blog-wapper",layoutMode:"masonry"})})},e.relatedPost=function(){if(e.$body.hasClass("single-post")){var o=t("#mf-related-posts").find(".related-posts-list");o.not(".slick-initialized").slick({slidesToShow:3,slidesToScroll:1,dots:!0,infinite:!1,arrows:!1,responsive:[{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:480,settings:{slidesToShow:1}}]}),o.on("afterChange",function(){e.lazyLoad()})}},e.blogLoadingAjax=function(){e.$window.on("scroll",function(){e.$body.find("#mf-infinite-loading").is(":in-viewport")&&e.$body.find("#mf-infinite-loading").trigger("click")}).trigger("scroll"),e.$body.on("click","#mf-infinite-loading",function(o){if(o.preventDefault(),!t(this).data("requestRunning")){t(this).data("requestRunning",!0);var i=e.$body.find(".mf-post-list"),a=t(this).parents(".navigation");t.get(t(this).closest(".page-numbers").attr("href"),function(o){var r=t(o).find(".mf-post-list").children(".blog-wapper"),s=t(o).find(".navigation").html();a.html(s),i.append(r),a.find("a").data("requestRunning",!1),e.lazyLoad(),e.postEntryFormat()})}})},e.pageHeaderParallax=function(){if(t(".page-header").hasClass("page-header-sliders")){var e=t(".page-header-sliders"),o=e.data("speed"),i=e.data("auto");e.find("ul").not(".slick-initialized").slick({slidesToShow:1,slidesToScroll:1,infinite:!0,autoplaySpeed:o,autoplay:i,arrows:!1}),e.on("click",".slick-prev-arrow",function(){e.find("ul").slick("slickPrev")}),e.on("click",".slick-next-arrow",function(){e.find("ul").slick("slickNext")})}},e.lazyLoad=function(){e.$body.find("img.lazy").lazyload({load:function(){t(this).removeClass("lazy")}}),e.$window.on("load",function(){t(".mf-products-list-carousel").find("img.lazy").lazyload({load:function(){t(this).removeClass("lazy")}}).trigger("appear")})},e.recentlyViewedProducts=function(){function o(){var o=t("#footer-recently-viewed");o.length<=0||o.hasClass("load-ajax")&&(o.hasClass("loaded")||t.ajax({url:martfuryData.ajax_url,dataType:"json",method:"post",data:{action:"martfury_footer_recently_viewed",nonce:martfuryData.nonce},success:function(t){o.html(t.data),o.find(".product-list").hasClass("no-products")&&o.addClass("no-products"),e.lazyLoad(),i(o),o.addClass("loaded")}}))}function i(t){t.find(".product-list").hasClass("no-products")||t.find(".product-list").not(".slick-initialized").slick({slidesToShow:8,slidesToScroll:8,arrows:!0,infinite:!1,prevArrow:'<span class="ion-ios-arrow-left slick-prev-arrow"></span>',nextArrow:'<span class="ion-ios-arrow-right slick-next-arrow"></span>',responsive:[{breakpoint:1200,settings:{slidesToShow:6,slidesToScroll:6}},{breakpoint:800,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2}}]})}o(),function(){var e=t("#footer-history-products"),i=!0,a=t("#footer-recently-viewed"),r=t("#mf-off-canvas-layer");e.length<=0||(e.on("click",".recently-title",function(e){e.preventDefault(),a.addClass("load-ajax"),r.toggleClass("opened"),a.slideToggle(400,function(){i&&(o(),i=!1)}),t(this).toggleClass("active")}),r.on("click",function(){r.removeClass("opened"),e.find(".recently-title").removeClass("active"),a.slideUp(400)}))}(),function(){var o=t("#header-recently-viewed");o.length<=0||e.$window.on("load",function(){t.ajax({url:martfuryData.ajax_url,dataType:"json",method:"post",data:{action:"martfury_header_recently_viewed",nonce:martfuryData.nonce},success:function(t){o.html(t.data),o.find(".product-list").hasClass("no-products")&&o.addClass("no-products"),e.lazyLoad(),i(o)}})})}()},e.catalogBanners=function(){var o=t("#mf-catalog-banners");if(!(o.length<=0)){o.data("columns");var i=o.data("autoplay"),a=!1,r=1e3;i>0?(a=!0,r=i,i=!0):i=!1,o.not(".slick-initialized").slick({slidesToShow:1,slidesToScroll:1,autoplaySpeed:r,autoplay:i,infinite:a,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right slick-next-arrow"></span>'}),o.on("afterChange",function(){e.lazyLoad()})}},e.productsTopCarousel=function(){var o=t(".mf-products-top-carousel");o.length<=0||o.each(function(){var o=t(this).data("columns"),i=t(this).data("autoplay"),a=!1,r=1e3;i>0?(a=!0,r=i,i=!0):i=!1,t(this).find("ul.products").not(".slick-initialized").slick({slidesToShow:o,slidesToScroll:o,autoplaySpeed:r,autoplay:i,infinite:a,dots:!0,prevArrow:t(this).find(".slick-prev-arrow"),nextArrow:t(this).find(".slick-next-arrow"),responsive:[{breakpoint:992,settings:{slidesToShow:parseInt(o)>3?3:o,slidesToScroll:parseInt(o)>3?3:o}},{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2}}]}),t(this).on("afterChange",function(){e.lazyLoad()})})},e.productCategoriesWidget=function(){var e=t(".mf_widget_product_categories, .wcv.widget_product_categories");e.length<=0||(e.find("ul.children").closest("li").prepend('<span class="cat-menu-close"><i class="icon-chevron-down"></i> </span>'),e.find("li.current-cat-parent, li.current-cat, li.current-cat-ancestor").addClass("opened").children(".children").show(),e.on("click",".cat-menu-close",function(e){e.preventDefault(),t(this).closest("li").children(".children").slideToggle(),t(this).closest("li").toggleClass("opened")}))},e.productTopCategories=function(){var e=t(".mf-catalog-top-categories");e.length<=0||e.on("click",".cat-menu-close",function(e){e.preventDefault(),t(this).closest("li").children(".sub-categories").slideToggle(),t(this).closest("li").toggleClass("opened")})},e.productAttribute=function(){var o="",i="";e.$body.on("mouseover",".mf-swatch-image",function(e){e.preventDefault();var a=t(this).closest("li.product").find(".mf-product-thumbnail").find("img");o=a.attr("src"),i=a.attr("srcset");var r=t(this).find("img").attr("src"),s=t(this).find("img").attr("srcset");a.attr("src",r),s&&a.attr("srcset",s)}).on("mouseout",".mf-swatch-image",function(e){e.preventDefault();var a=t(this).closest("li.product").find(".mf-product-thumbnail").find("img");o&&a.attr("src",o),i&&a.attr("srcset",i)}),e.$body.on("mouseover",".mf-attr-swatches",function(e){e.preventDefault(),t(this).closest("li.product").find(".mf-product-thumbnail").addClass("hover-swatch")}).on("mouseout",".mf-attr-swatches",function(e){e.preventDefault(),t(this).closest("li.product").find(".mf-product-thumbnail").removeClass("hover-swatch")})},e.shopView=function(){e.$body.on("click",".mf-shop-view",function(o){o.preventDefault();var i=t(this),a=i.data("view");i.hasClass("current")||(e.$body.find(".mf-shop-view").removeClass("current"),i.addClass("current"),e.$body.removeClass("shop-view-grid shop-view-list").addClass("shop-view-"+a),document.cookie="shop_view="+a+";domain="+window.location.host+";path=/",t(document.body).trigger("martfury_shop_view_after_change"))}),t(document.body).on("martfury_shop_view_after_change",function(){e.lazyLoad()})},e.singleProductCarousel=function(){var t=e.$body.find(".up-sells ul.products"),o=e.$body.find(".related.products ul.products");if(!(t.length<=0&&o.length<=0)){var i=t.closest(".up-sells").data("columns");t.not(".slick-initialized").slick({slidesToShow:parseInt(i),slidesToScroll:parseInt(i),arrows:!0,dots:!0,infinite:!1,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right slick-next-arrow"></span>',responsive:[{breakpoint:1200,settings:{slidesToShow:parseInt(i)>4?4:parseInt(i),slidesToScroll:parseInt(i)>4?4:parseInt(i)}},{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2}}]}),t.on("afterChange",function(){e.lazyLoad()});var a=o.closest(".related").data("columns");o.not(".slick-initialized").slick({rtl:"true"===martfuryData.rtl,slidesToShow:parseInt(a),slidesToScroll:parseInt(a),arrows:!0,dots:!0,infinite:!1,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right slick-next-arrow"></span>',responsive:[{breakpoint:1200,settings:{slidesToShow:parseInt(a)>4?4:parseInt(a),slidesToScroll:parseInt(a)>4?4:parseInt(a)}},{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2}}]}),o.on("afterChange",function(){e.lazyLoad()})}},e.fbtProduct=function(){function e(t){var e=t;if(parseInt(c)>0){for(var o=(t=t.toFixed(c)+"").split("."),i=o[0],a=o.length>1?l+o[1]:"",r=/(\d+)(\d{3})/;r.test(i);)i=i.replace(r,"$1"+n+"$2");e=i+a}switch(d){case"left":return s+e;case"right":return e+s;case"left_space":return s+" "+e;case"right_space":return e+" "+s}}var o=t("#mf-product-fbt");if(!(o.length<=0)){var i=o.find(".mf-total-price .woocommerce-Price-amount"),a=o.find(".mf_add_to_cart_button"),r=parseFloat(o.find("#mf-data_price").data("price")),s=martfuryData.currency_symbol,n=martfuryData.thousand_sep,l=martfuryData.decimal_sep,c=martfuryData.price_decimals,d=martfuryData.currency_pos;o.find(".products-list").on("click","a",function(s){s.preventDefault();var n=t(this).data("id");t(this).closest("li").toggleClass("uncheck");var l=parseFloat(t(this).closest("li").find(".s-price").data("price"));t(this).closest("li").hasClass("uncheck")?(o.find("#fbt-product-"+n).addClass("un-active"),r-=l):(o.find("#fbt-product-"+n).removeClass("un-active"),r+=l);var c="0";o.find(".products-list li").each(function(){t(this).hasClass("uncheck")||(c+=","+t(this).find("a").data("id"))}),a.attr("value",c),i.html(e(r))})}},e.fbtAddToCartAjax=function(){var e=t("#mf-product-fbt");e.length<=0||e.on("click",".mf_add_to_cart_button.ajax_add_to_cart",function(e){e.preventDefault();var o=t(this);o.addClass("loading");var i=window.location.href;t.ajax({url:martfuryData.ajax_url,dataType:"json",method:"post",data:{action:"martfury_fbt_add_to_cart",nonce:martfuryData.nonce,product_ids:o.attr("value")},error:function(){window.location=i},success:function(e){"undefined"==typeof wc_add_to_cart_params||"yes"!==wc_add_to_cart_params.cart_redirect_after_add?(t(document.body).trigger("updated_wc_div"),t(document.body).on("wc_fragments_refreshed",function(){o.removeClass("loading")})):window.location=wc_add_to_cart_params.cart_url}})})},e.fbtAddToWishlistAjax=function(){function o(){var e=[];return a.find("li.product").each(function(){t(this).hasClass("un-active")||t(this).hasClass("product-buttons")||t(this).find(".yith-wcwl-add-button").hasClass("hide")||-1==e.indexOf(t(this).data("id"))&&e.push(t(this).data("id"))}),e}function i(t){return a.find(".add-to-wishlist-"+t).find(".yith-wcwl-add-button.show .add_to_wishlist").trigger("click"),++r}var a=t("#mf-product-fbt"),r=0;if(!(a.length<=0)){var s=o();0==s.length&&(a.find(".btn-view-to-wishlist").addClass("showed"),a.find(".btn-add-to-wishlist").addClass("hided")),a.on("click",".btn-add-to-wishlist",function(n){n.preventDefault();var l=t(this);0!=(s=o()).length&&(l.addClass("loading"),i(s[r]),e.$body.on("added_to_wishlist",function(){s.length>r?i(s[r]):s.length==r&&(a.find(".btn-view-to-wishlist").addClass("showed"),a.find(".btn-add-to-wishlist").addClass("hided"),l.removeClass("loading"))}))})}},e.instagramCarousel=function(){var t=e.$body.find(".mf-product-instagram ul.products"),o=t.data("columns"),i=t.data("auto"),a=!1,r=1e3;t.length<1||(i>0?(a=!0,r=i,i=!0):i=!1,t.not(".slick-initialized").slick({rtl:"true"===martfuryData.rtl,slidesToShow:o,slidesToScroll:o,autoplaySpeed:r,autoplay:i,infinite:a,dots:!0,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right slick-next-arrow"></span>',responsive:[{breakpoint:1200,settings:{slidesToShow:parseInt(o)>4?4:parseInt(o),slidesToScroll:parseInt(o)>4?4:parseInt(o)}},{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2}}]}),t.on("afterChange",function(){e.lazyLoad()}))},e.productQuickView=function(){var o=t("#mf-quick-view-modal"),i=o.find(".product-modal-content");e.$body.on("click",".mf-product-quick-view",function(a){a.preventDefault();var r=t(this).data("id");i.hide().html(""),o.addClass("loading").removeClass("loaded"),e.openModal(o),t.ajax({url:martfuryData.ajax_url,dataType:"json",method:"post",data:{action:"martfury_product_quick_view",nonce:martfuryData.nonce,product_id:r},success:function(a){i.show().append(a.data),o.removeClass("loading").addClass("loaded");var r=i.find(".woocommerce-product-gallery"),s=t(".variations_form");r.removeAttr("style"),r.find("img.lazy").lazyload().trigger("appear"),r.imagesLoaded(function(){r.find(".woocommerce-product-gallery__wrapper").not(".slick-initialized").slick({slidesToShow:1,slidesToScroll:1,infinite:!1,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right slick-next-arrow"></span>'})}),r.find(".woocommerce-product-gallery__image").on("click",function(t){t.preventDefault()}),"undefined"!=typeof wc_add_to_cart_variation_params&&s.each(function(){t(this).wc_variation_form()}),void 0!==t.fn.tawcvs_variation_swatches_form&&s.tawcvs_variation_swatches_form(),e.productVatiation(),"undefined"!=typeof tawcvs&&"yes"===tawcvs.tooltip&&s.find(".swatch").tooltip({classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip qv-tool-tip",position:{my:"center bottom",at:"center top-13"},create:function(){t(".ui-helper-hidden-accessible").remove()}}),i.find(".compare").tooltip({content:function(){return t(this).html()},classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip qv-tooltip",position:{my:"center bottom",at:"center top-13"},create:function(){t(".ui-helper-hidden-accessible").remove()}}),i.find("[data-rel=tooltip]").tooltip({classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip qv-tooltip",position:{my:"center bottom",at:"center top-13"},create:function(){t(".ui-helper-hidden-accessible").remove()}})}})}),o.on("click",".close-modal, .mf-modal-overlay",function(t){t.preventDefault(),e.closeModal(o)})},e.productVatiation=function(){e.$body.on("tawcvs_initialized",function(){t(".variations_form").unbind("tawcvs_no_matching_variations"),t(".variations_form").on("tawcvs_no_matching_variations",function(e,o){e.preventDefault(),t(".variations_form").find(".woocommerce-variation.single_variation").show(),"undefined"!=typeof wc_add_to_cart_variation_params&&t(".variations_form").find(".single_variation").slideDown(200).html("<p>"+wc_add_to_cart_variation_params.i18n_no_matching_variations_text+"</p>")})}),t(".variations_form td.value").on("change","select",function(){var e=t(this).find("option:selected").text();t(this).closest("tr").find("td.label .mf-attr-value").html(e)})},e.addToCartAjax=function(){if("0"!=martfuryData.add_to_cart_ajax){var o=!1;e.$body.on("click",".single_add_to_cart_button",function(e){var i=t(this),a=i.closest("form.cart");if(a.length>0&&(e.preventDefault(),!i.hasClass("disabled")&&(i.addClass("loading"),!o))){o=!0;var r=a.serializeArray(),s=window.location.href;""!=i.val()&&r.push({name:i.attr("name"),value:i.val()}),t.ajax({url:window.location.href,method:"post",data:r,error:function(){window.location=s},success:function(e){e||(window.location=s),"undefined"==typeof wc_add_to_cart_params||"yes"!==wc_add_to_cart_params.cart_redirect_after_add?(t(document.body).trigger("updated_wc_div"),t(document.body).on("wc_fragments_refreshed",function(){i.removeClass("loading")}),o=!1):window.location=wc_add_to_cart_params.cart_url}})}})}},e.filterAjax=function(){e.$body.hasClass("catalog-ajax-filter")&&(t(document.body).on("price_slider_change",function(e,o){var i=t(".price_slider").closest("form").get(0),a=t(i),r=a.attr("action")+"?"+a.serialize();t(document.body).trigger("martfury_catelog_filter_ajax",r,t(this))}),e.$body.on("click",".mf_widget_product_categories a, .mf-widget-layered-nav a, .widget_rating_filter a, .widget_layered_nav_filters a",function(e){e.preventDefault();var o=t(this).attr("href");t(document.body).trigger("martfury_catelog_filter_ajax",o,t(this))}),t(document.body).on("martfury_catelog_filter_ajax",function(o,i,a){var r=t("#content"),s=t(".page-header");NProgress.start(),t("#page").removeClass("fade-in"),"?"==i.slice(-1)&&(i=i.slice(0,-1)),i=i.replace(/%2C/g,","),history.pushState(null,null,i),t(document.body).trigger("martfury_ajax_filter_before_send_request",[i,a]),e.ajaxXHR&&e.ajaxXHR.abort(),e.ajaxXHR=t.get(i,function(e){r.replaceWith(t(e).find("#content")),s.html(t(e).find(".page-header").html()),t(document.body).trigger("martfury_ajax_filter_request_success",[e,i])},"html")}),t(document.body).on("martfury_ajax_filter_request_success",function(){e.lazyLoad(),e.toolTipIcon(),e.searchLayeredNav(),e.catalogBanners(),e.productsTopCarousel(),e.productCategoriesWidget(),e.productAttribute(),e.variationImagesCarousel(),e.productTopCategories(),e.priceSlider(),NProgress.done(),t("#page").addClass("fade-in")}))},e.priceSlider=function(){if("undefined"==typeof woocommerce_price_slider_params)return!1;if(t(".catalog-sidebar").find(".widget_price_filter").length<=0)return!1;t("input#min_price, input#max_price").hide(),t(".price_slider, .price_label").show();var e=t(".price_slider_amount #min_price").data("min"),o=t(".price_slider_amount #max_price").data("max"),i=parseInt(e,10),a=parseInt(o,10);""!=t(".price_slider_amount #min_price").val()&&(i=parseInt(t(".price_slider_amount #min_price").val(),10)),""!=t(".price_slider_amount #max_price").val()&&(a=parseInt(t(".price_slider_amount #max_price").val(),10)),t(document.body).bind("price_slider_create price_slider_slide",function(e,o,i){"left"===woocommerce_price_slider_params.currency_pos?(t(".price_slider_amount span.from").html(woocommerce_price_slider_params.currency_symbol+o),t(".price_slider_amount span.to").html(woocommerce_price_slider_params.currency_symbol+i)):"left_space"===woocommerce_price_slider_params.currency_pos?(t(".price_slider_amount span.from").html(woocommerce_price_slider_params.currency_symbol+" "+o),t(".price_slider_amount span.to").html(woocommerce_price_slider_params.currency_symbol+" "+i)):"right"===woocommerce_price_slider_params.currency_pos?(t(".price_slider_amount span.from").html(o+woocommerce_price_slider_params.currency_symbol),t(".price_slider_amount span.to").html(i+woocommerce_price_slider_params.currency_symbol)):"right_space"===woocommerce_price_slider_params.currency_pos&&(t(".price_slider_amount span.from").html(o+" "+woocommerce_price_slider_params.currency_symbol),t(".price_slider_amount span.to").html(i+" "+woocommerce_price_slider_params.currency_symbol)),t(document.body).trigger("price_slider_updated",[o,i])}),void 0!==t.fn.slider&&t(".price_slider").slider({range:!0,animate:!0,min:e,max:o,values:[i,a],create:function(){t(".price_slider_amount #min_price").val(i),t(".price_slider_amount #max_price").val(a),t(document.body).trigger("price_slider_create",[i,a])},slide:function(e,o){t("input#min_price").val(o.values[0]),t("input#max_price").val(o.values[1]),t(document.body).trigger("price_slider_slide",[o.values[0],o.values[1]])},change:function(e,o){t(document.body).trigger("price_slider_change",[o.values[0],o.values[1]])}})},t(function(){e.init()})}(jQuery);